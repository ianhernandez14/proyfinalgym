<div class="registro-container">

  @if (showSuccessMessage)
  {
  <div class="custom-alert">
    <div class="alert-content">
      <h3>춰Registro Exitoso!</h3>
      <p>Tu cuenta ha sido creada correctamente</p>
      <button (click)="closeSuccessMessage()">Aceptar</button>
    </div>
    <div class="alert-overlay" (click)="closeSuccessMessage()"></div>
  </div>
  }

  <div class="form-box d-block">
    <h2>Registro de Usuario</h2>

    <form (ngSubmit)="onSubmit()" #registroForm="ngForm">
      <div class="input-group">
        <label>Nombre Completo</label>
        <input type="text" [(ngModel)]="nombreCompleto" name="nombreCompleto" placeholder="Ingrese su nombre completo" required>
      </div>

      <div class="input-group">
        <label>Correo Electr칩nico</label>
        <input type="email" [(ngModel)]="email" name="email" placeholder="Ingrese su correo electr칩nico" required>
      </div>

      <div class="input-group">
        <label>N칰mero de Tel칠fono</label>
        <div class="phone-input-container">
          <select [(ngModel)]="codigoPais" name="codigoPais" class="country-code">
            <option value="+52">游쓇릖 +52 </option>
            <option value="+1">游쥟릖 +1 </option>
            <option value="+33">游游 +33 </option>
            <option value="+34">游쀯릖 +34 </option>
            <option value="+49">游뾇릖 +49 </option>
            <option value="+44">游섫릖 +44 </option>
            <option value="+39">游쉻릖 +39 </option>
            <option value="+81">游游 +81 </option>
            <option value="+86">游뻟릖 +86 </option>
            <option value="+91">游쉻릖 +91 </option>
          </select>
          <input type="tel" [(ngModel)]="numeroTelefono" name="numeroTelefono" 
                 placeholder="55 1234 5678" 
                 maxlength="12" 
                 (input)="onNumeroTelefonoInput($event)"
                 class="phone-number">
        </div>
      </div>

      <div class="input-group">
        <label>Contrase침a</label>
        <input type="password" [(ngModel)]="password" name="password" placeholder="Ingrese su contrase침a" required>
      </div>

      <div class="input-group">
        <label>Confirmar Contrase침a</label>
        <input type="password" [(ngModel)]="confirmPassword" name="confirmPassword" placeholder="Confirme su contrase침a" required>
      </div>

      <!--aqu칤 insertamos el reCAPTCHA-->
      <div class="recaptcha-wrapper">
        <div id="recaptcha"></div>
      </div>

      @if (errorMessage)
      {
      <div class="error-message">
        {{ errorMessage }}
      </div>
      }

      <button type="submit" [disabled]="!registroForm.valid || !recaptchaToken || !passwordsMatch()">
        Registrarse
      </button>

      <div class="toggle-mode">
        <button type="button" (click)="goToLogin()">쯏a tienes cuenta? Inicia sesi칩n</button>
      </div>
    </form>
  </div>
</div>
